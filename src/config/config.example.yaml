# Azure Cost Management Forecasting - Example Configuration File
# Copy this file to config.yaml and customize for your environment

# Application name
name: "azure_cost_forecasting"

# ============================================================================
# Data Configuration
# ============================================================================
data:
  # Delta table configuration
  delta_table_path: "azure_cost_management.amortized_costs"
  database_name: "cost_management"
  table_name: "amortized_costs"
  
  # Data constraints
  min_historical_months: 12
  max_data_delay_hours: 168  # 7 days
  
  # Regional distribution
  primary_region: "East US"
  primary_region_weight: 0.9
  secondary_region: "South Central US"
  secondary_region_weight: 0.1
  
  # Cost categories
  cost_categories:
    - "Compute"
    - "Storage"
    - "Network"
    - "Database"
    - "Analytics"
    - "AI/ML"
    - "Security"
    - "Management"

# ============================================================================
# Model Configuration
# ============================================================================
model:
  prophet:
    yearly_seasonality: true
    weekly_seasonality: true
    daily_seasonality: false
    seasonality_mode: "multiplicative"
    changepoint_prior_scale: 0.05
    holidays_prior_scale: 10.0
    uncertainty_samples: 1000
  
  arima:
    seasonal: true
    seasonal_period: 12
    max_p: 5
    max_d: 2
    max_q: 5
    information_criterion: "aic"
  
  xgboost:
    n_estimators: 100
    max_depth: 6
    learning_rate: 0.1
    subsample: 0.8
    colsample_bytree: 0.8
    objective: "reg:squarederror"
    early_stopping_rounds: 10

# ============================================================================
# Training Configuration
# ============================================================================
training:
  train_split: 0.70
  validation_split: 0.15
  test_split: 0.15
  min_training_months: 12
  recommended_training_months: 18
  validation_months: 3
  test_months: 3
  cv_initial: "180 days"
  cv_period: "30 days"
  cv_horizon: "30 days"

# ============================================================================
# Feature Engineering Configuration
# ============================================================================
feature:
  lag_periods: [1, 2, 3, 7, 14, 30]
  rolling_windows: [3, 7, 14, 30]
  target_column: "PreTaxCost"
  date_column: "UsageDateTime"

# ============================================================================
# Performance Configuration
# ============================================================================
performance:
  target_mape: 10.0
  target_r2: 0.8
  warning_mape: 12.0
  critical_mape: 15.0
  warning_missing_data: 5.0
  critical_missing_data: 10.0

# ============================================================================
# Model Registry Configuration
# ============================================================================
registry:
  mlflow_tracking_uri: null  # Set via environment variable
  mlflow_experiment_name: "/Users/team/azure_cost_forecasting"
  prophet_model_name: "azure_cost_forecast_prophet"
  arima_model_name: "azure_cost_forecast_arima"
  xgboost_model_name: "azure_cost_forecast_xgboost"
  model_stages: ["None", "Staging", "Production"]

# ============================================================================
# Monitoring Configuration
# ============================================================================
monitoring:
  monthly_retraining: true
  quarterly_retraining: true
  retraining_trigger_mape: 15.0
  max_months_without_retraining: 6
  realtime_monitoring: true
  daily_reports: true
  weekly_reports: true
  monthly_reports: true

# ============================================================================
# Forecast Configuration
# ============================================================================
forecast:
  forecast_horizons_days: [30, 90, 180, 365]
  daily_forecasts: true
  weekly_forecasts: true
  monthly_forecasts: true

